<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE alfs SYSTEM "DTD/ALFS.dtd"
[

  <!ENTITY % general_entities SYSTEM "config/general.ent">
  <!ENTITY % config_entities SYSTEM "config/config.ent">

  %general_entities;
  %config_entities;
]>
<alfs version="3.1" xmlns:xi="http://www.w3.org/2001/XInclude">
  <stage name="Cross-LFS">
    <stage name="Preparations">
      <xi:include href="prep/creatingtoolsdir.xml" />
      <xi:include href="prep/addinguser.xml" />
      <xi:include href="prep/settingenvironment.xml" />
      <xi:include href="prep/creatingcrosstoolsdir.xml" />
    </stage>
    <stage name="Creating Cross-Compile Tools">
      <stageinfo>
	<root>/</root>
	<user>&lfs-user;</user>
	<environment>
	  <variable name="LFS">&LFS;</variable>
	  <variable name="LC_ALL">POSIX</variable>
	  <variable name="PATH">/cross-tools/bin:/bin:/usr/bin</variable>
	  <variable name="CFLAGS" />
	  <variable name="CXXFLAGS" />
	  <variable name="TERM">&TERM;</variable>
	  <variable name="HOME">&lfs-user-dir;</variable>
	  <variable name="LFS_HOST">&lfs-host;</variable>
	  <variable name="LFS_TARGET">&lfs-target;</variable>
	</environment>
      </stageinfo>
      <xi:include href="cross-tools/libc-headers.xml" />
      <xi:include href="cross-tools/cross-binutils.xml" />
      <xi:include href="cross-tools/glibc-headers.xml" />
      <xi:include href="cross-tools/cross-gcc-static-libgcc.xml" />
      <xi:include href="cross-tools/glibc-startfiles.xml" />
      <xi:include href="cross-tools/cross-gcc-shared-libgcc.xml" />
      <xi:include href="cross-tools/glibc.xml" />
      <xi:include href="cross-tools/gcc.xml" />
    </stage>
    <stage name="Constructing a Temporary System">
      <stageinfo>
	<root>/</root>
	<user>&lfs-user;</user>
	<environment>
	  <variable name="LFS">&LFS;</variable>
	  <variable name="LC_ALL">POSIX</variable>
	  <variable name="PATH">/cross-tools/bin:/bin:/usr/bin</variable>
	  <variable name="CFLAGS" />
	  <variable name="CXXFLAGS" />
	  <variable name="TERM">&TERM;</variable>
	  <variable name="HOME">&lfs-user-dir;</variable>
	  <variable name="LFS_HOST">&lfs-host;</variable>
	  <variable name="LFS_TARGET">&lfs-target;</variable>
	  <variable name="CC">&lfs-target;-gcc</variable>
	  <variable name="CXX">&lfs-target;-g++</variable>
	  <variable name="AR">&lfs-target;-ar</variable>
	  <variable name="AS">&lfs-target;-as</variable>
	  <variable name="RANLIB">&lfs-target;-ranlib</variable>
	  <variable name="LD">&lfs-target;-ld</variable>
	  <variable name="STRIP">&lfs-target;-strip</variable>
      	</environment>
      </stageinfo>
      <xi:include href="temp-system/binutils.xml" />
      <xi:include href="temp-system/gcc.xml" />
      <xi:include href="temp-system/zlib.xml" />
      <xi:include href="temp-system/gawk.xml" />
      <xi:include href="temp-system/coreutils.xml" />
      <xi:include href="temp-system/bzip2.xml" />
      <xi:include href="temp-system/gzip.xml" />
      <xi:include href="temp-system/diffutils.xml" />
      <xi:include href="temp-system/findutils.xml" />
      <xi:include href="temp-system/make.xml" />
      <xi:include href="temp-system/grep.xml" />
      <xi:include href="temp-system/sed.xml" />
      <xi:include href="temp-system/gettext.xml" />
      <xi:include href="temp-system/ncurses.xml" />
      <xi:include href="temp-system/patch.xml" />
      <xi:include href="temp-system/tar.xml" />
      <xi:include href="temp-system/bash.xml" />
    </stage>
    <stage name="Chroot Prep">
      <stageinfo>
	<root>/</root>
	<environment>
	  <variable name="LFS">&LFS;</variable>
	  <variable name="LC_ALL">POSIX</variable>
	  <variable name="PATH">/cross-tools/bin:/bin:/usr/bin</variable>
	  <variable name="CFLAGS" />
	  <variable name="CXXFLAGS" />
	  <variable name="TERM">&TERM;</variable>
	  <variable name="HOME">&lfs-user-dir;</variable>
	  <variable name="LFS_HOST">&lfs-host;</variable>
	  <variable name="LFS_TARGET">&lfs-target;</variable>
	  <variable name="CC">&lfs-target;-gcc</variable>
	  <variable name="CXX">&lfs-target;-g++</variable>
	  <variable name="AR">&lfs-target;-ar</variable>
	  <variable name="AS">&lfs-target;-as</variable>
	  <variable name="RANLIB">&lfs-target;-ranlib</variable>
	  <variable name="LD">&lfs-target;-ld</variable>
	  <variable name="STRIP">&lfs-target;-strip</variable>
	</environment>
      </stageinfo>
      <xi:include href="chroot/util-linux.xml" />
      <xi:include href="chroot/kernfs.xml" />
    </stage>
    <stage name="Setting up the Chroot Environment">
      <stageinfo>
	<root>&LFS;</root>
	<environment>
	  <variable name="HOME">/root</variable>
	  <variable name="TERM">&TERM;</variable>
	  <variable name="PATH">/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin</variable>
	  <variable name="CFLAGS" />
	  <variable name="CXXFLAGS" />
	</environment>
      </stageinfo>
      <xi:include href="chroot/changingownership.xml" />
      <xi:include href="chroot/creatingdirs.xml" />
      <xi:include href="chroot/creatingsymlinks.xml" />
      <xi:include href="chroot/pwdgroup.xml" />
      <xi:include href="chroot/populate-dev.xml" />
    </stage>
  </stage>
</alfs>
