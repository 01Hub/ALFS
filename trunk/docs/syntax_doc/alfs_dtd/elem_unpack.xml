<sect1 id="elem_unpack" xreflabel="Element: &lt;unpack&gt;">
<?dbhtml filename="elem_unpack.html" dir="alfs_dtd"?>
<title>Element: &lt;unpack&gt;</title>

<sect2>
<title>Syntax</title>

<synopsis>
&lt;!ELEMENT unpack         (digest?, reference*, archive, destination)&gt;
</synopsis>

<para>This element occurs in the elements&nbsp;:&nbsp;&nbsp;
<xref linkend="elem_alfs"/>&nbsp;&nbsp;|&nbsp;&nbsp;
<xref linkend="elem_stage"/>
</para>

<para>See also&nbsp;:&nbsp;&nbsp;
<xref linkend="elem_archive"/>&nbsp;&nbsp;|&nbsp;&nbsp;
<xref linkend="elem_destination"/>&nbsp;&nbsp;|&nbsp;&nbsp;
<xref linkend="elem_digest"/>&nbsp;&nbsp;|&nbsp;&nbsp;
<xref linkend="elem_reference"/>
</para>

</sect2>

<sect2>
<title>Description</title>

<para>The element <filename>unpack</filename> is one of the many main
operation elements.  It is used to unpack an archive into a destination directory</para>

<para>The sub-element <filename>reference</filename> gives the
<acronym>URL</acronym> of the archive, which is used if the archive file is
not available locally.</para>

<para>The sub-element <filename>digest</filename> gives the digest of the archive, as computed
by openssl, using the digest type specified in the attribute <filename>type</filename>.</para>

<para>The sub-element <filename>archive</filename> gives the name of the archive,
and the sub-element <filename>destination</filename> given the name of the directory
in which the archive is unpacked</para>

</sect2>

<sect2>
<title>Examples</title>

<screen><userinput>&lt;unpack&gt;
    &lt;digest&gt;cbe9f79450aeecfb06d5e856af16c2cf&lt;/digest&gt;
    &lt;reference&gt;ftp://ftp.gnu.org/gnu/gzip/gzip.1.2.4a.tar.gz&lt;/reference&gt;
    &lt;archive&gt;/usr/src/lfs-packages/gzip.1.2.4a.tar.gz&lt;/archive&gt;
    &lt;destination&gt;/usr/src&lt;/destination&gt;
&lt;/unpack&gt;</userinput></screen>

<para>The equivalent bash script is&nbsp;:</para>

<screen><userinput>echo Unpacking /usr/src/lfs-packages/gzip.1.2.4a.tar.gz into /usr/src
[[ ! -f /usr/src/lfs-packages/gzip.1.2.4a.tar.gz ]] &amp;&amp;
  echo Retrieving  ftp://ftp.gnu.org/gnu/gzip/gzip.1.2.4a.tar.gz
[[ ! -f /usr/src/lfs-packages/gzip.1.2.4a.tar.gz ]] &amp;&amp;
  wget -O /usr/src/lfs-packages/gzip.1.2.4a.tar.gz ftp://ftp.gnu.org/gnu/gzip/gzip.1.2.4a.tar.gz
[[ ! -f /usr/src/lfs-packages/gzip.1.2.4a.tar.gz ]] &amp;&amp;
  echo Archive does not exist &amp;&amp; exit 3

cd /usr/src
<command>tar xzvf /usr/src/lfs-packages/gzip.1.2.4a.tar.gz</command></userinput></screen>

</sect2>

</sect1>
