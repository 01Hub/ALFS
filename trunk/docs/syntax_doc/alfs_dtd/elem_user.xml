<sect1 id="elem_user" xreflabel="Element: &lt;user&gt;">
<?dbhtml filename="elem_user.html" dir="alfs_dtd"?>
<title>Element: &lt;user&gt;</title>

<sect2>
<title>Syntax</title>

<synopsis>
&lt;!ELEMENT user           (#PCDATA)&gt;
</synopsis>

<para>This element occurs in the elements&nbsp;:&nbsp;&nbsp;
<xref linkend="elem_stageinfo"/>
</para>

<para>See also&nbsp;:&nbsp;&nbsp;
<xref linkend="elem_ownership"/>
</para>

</sect2>

<sect2>
<title>Description</title>

<para>The element <filename>user</filename> allow to specify a user ID that
will be the effective user ID when executing the commands of the stage to
which it applies.</para>

</sect2>

<sect2>
<title>Examples</title>

<screen><userinput>&lt;stage&gt;
	&lt;stageinfo&gt;
		&lt;base&gt;/usr/src/mypackage&lt;/base&gt;
		&lt;user&gt;lfs&lt;/user&gt;
	&lt;/stageinfo&gt;

	&lt;make&gt;
		&lt;param&gt;install&lt;/param&gt;
	&lt;/make&gt;
&lt;/stage&gt;</userinput></screen>

<para>The equivalent bash script is&nbsp;:</para>

<screen><userinput>echo Stage

echo Creating file ./_nalfs_tmp.1...
cat > ./_nalfs_tmp.1 &lt;&lt; 'EOF1'
echo Executing make
cd /usr/src/mypackage
make install

true
EOF1
[[ $? != 0 ]] &amp;&amp;  echo Creating file failed &amp;&amp; exit 3

chmod 775 ./_nalfs_tmp.1
echo Executing as user lfs
/bin/su lfs -c ./_nalfs_tmp.1

echo Finished execution as user lfs

echo Exiting stage</userinput></screen>

</sect2>

</sect1>
