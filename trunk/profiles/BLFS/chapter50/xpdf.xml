<package name="xpdf" version="&xpdf-version;">

        <packageinfo>
                <requires><name>xfree86</name></requires>
        	<requires><name>lesstif</name></requires>

        	<utilizes><name>t1lib</name></utilizes>
        	<utilizes><name>ghostscript</name></utilizes>
        	<utilizes><name>freetype</name></utilizes>

        </packageinfo>

	<stage name="Unpacking a package.">
		<unpack>
			<archive>&packages_dir;/&xpdf-package;</archive>
			<destination>&build_dir;</destination>
		</unpack>
	</stage>

	<stage name="Installing a package.">
		<stageinfo>
			<base>&build_dir;/&xpdf-directory;</base>
		</stageinfo>

		<configure>
			<param>--prefix=/usr</param>
			<param>--sysconfdir=/etc</param>
			<param>--mandir=/usr/share/man</param>
			<param>--enable-a4-paper</param>
			<param>--with-freetype2-includes=/usr/include/freetype2</param>
			<param>--with-freetype2-library=/usr/lib</param>
			<param>--with-gzip</param>
			<param>--with-appdef-dir=/usr/X11R6/lib/X11/app-defaults/</param>
		</configure>

		<make />

		<make>
			<param>install</param>
		</make>

		<textdump>
		         <file>/home/&username;/.xpdfrc</file>
			 <content>
			 =# Example .xpdfrc
			 =displayFontT1 Times-Roman		/usr/share/ghostscript/fonts/n021003l.pfb
			 =displayFontT1 Times-Italic		/usr/share/ghostscript/fonts/n021023l.pfb
			 =displayFontT1 Times-Bold		/usr/share/ghostscript/fonts/n021004l.pfb
			 =displayFontT1 Times-BoldItalic        /usr/share/ghostscript/fonts/n021024l.pfb
			 =displayFontT1 Helvetica               /usr/share/ghostscript/fonts/n019003l.pfb
			 =displayFontT1 Helvetica-Oblique       /usr/share/ghostscript/fonts/n019023l.pfb
			 =displayFontT1 Helvetica-Bold          /usr/share/ghostscript/fonts/n019004l.pfb
			 =displayFontT1 Helvetica-BoldOblique   /usr/share/ghostscript/fonts/n019024l.pfb
			 =displayFontT1 Courier                 /usr/share/ghostscript/fonts/n022003l.pfb
			 =displayFontT1 Courier-Oblique         /usr/share/ghostscript/fonts/n022023l.pfb
			 =displayFontT1 Courier-Bold            /usr/share/ghostscript/fonts/n022004l.pfb
			 =displayFontT1 Courier-BoldOblique     /usr/share/ghostscript/fonts/n022024l.pfb
			 =displayFontT1 Symbol                  /usr/share/ghostscript/fonts/s050000l.pfb
			 =displayFontT1 ZapfDingbats            /usr/share/ghostscript/fonts/d050000l.pfb
			 =
			 =fontDir               /usr/X11R6/lib/X11/fonts/truetype
			 =
			 =psFile                "|lpr"
			 =psPaperSize           A4
			 =textEOL               unix
			 =
			 =t1libControl          low
			 =freetypeControl       low
			 =
			 =urlCommand	"links -g %s"
			 </content>
		</textdump>
	</stage>

	<stage name="Clean-up.">
		<remove>&build_dir;/&xpdf-directory;</remove>
	</stage>

</package>
